---
title: React18
description: React18新特性
---

## React 18 更新

1. 并发模式  
- 并发模式是实现并发更新的基本前提  
- v18 中，以是否使用并发特性作为是否开启并发更新的依据。  
- 并发特性指开启并发模式后才能使用的特性，比如：useDeferredValue/useTransition  

2. 更新 render API  
v18 使用 ReactDOM.createRoot() 创建一个新的根元素进行渲染，使用该 API，会自动启用并发模式。

3. setState 自动批处理  
 批处理是指为了获得更好的性能，在数据层，将多个状态更新批量处理，合并成一次更新（在视图层，将多个渲染合并成一次渲染）。  
 - 在 18 之前，只有在react事件处理函数中，才会自动执行批处理，其它情况会多次更新
 - 在 18 之后，任何情况都会自动执行批处理，多次更新始终合并为一次
